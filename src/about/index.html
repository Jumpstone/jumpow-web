<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Language Redirect</title>
    <script>
        // Mapping: Sprachpr채fix -> Ziel-URL
        const targets = {
            'de': '/de/about/',   // Deutsch
            'en': '/en/about/',   // Englisch
        };

        // Standardziel, falls keine passende Sprache gefunden wurde
        const defaultTarget = '/en';

        function getPreferredLang() {
            // navigator.languages ist ein Array der pr채ferierten Sprachen
            const langs = navigator.languages || [navigator.language || navigator.userLanguage || ''];
            for (const l of langs) {
                if (!l) continue;
                // z.B. "de-DE" -> "de"
                const prefix = l.split('-')[0].toLowerCase();
                if (prefix) return prefix;
            }
            return null;
        }

        (function() {
            const lang = getPreferredLang();
            const target = (lang && targets[lang]) ? targets[lang] : defaultTarget;

            // Optional: inkognito eine kleine Info anzeigen bevor umgeleitet wird (n체tzlich beim Testen)
            // document.body.textContent = `Weiterleitung nach ${target} (Sprache: ${lang || 'unbekannt'})...`;

            // Direkt weiterleiten (ersetze current history entry)
            window.location.replace(target);
            // Alternative: window.location.href = target; (legt neues History-Element an)
        })();
    </script>
</head>
<body>
<!-- Falls JS deaktiviert ist, zeigt eine Auswahl -->
<noscript>
    <p>Javascript ist deaktiviert. Bitte manuell die richtige Seite w채hlen:</p>
    <ul>
        <li><a href="/de/about/">Deutsch</a></li>
        <li><a href="/en/about/">English</a></li>
    </ul>
</noscript>
</body>
</html>
